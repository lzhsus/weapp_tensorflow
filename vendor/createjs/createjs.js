!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={cacheCanvas:null,createCanvas:function(){return this.cacheCanvas},globalDispatcher:null,canvas:null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17),i(18),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26),i(27),i(28),i(29),i(30),i(31),i(32),i(33),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41),i(42),i(43);var n,s=(n=i(0))&&n.__esModule?n:{default:n};s.default.globalDispatcher=new s.default.EventDispatcher;var r=s.default;e.default=r},function(t,e,i){"use strict";var n;((n=i(0))&&n.__esModule?n:{default:n}).default.extend=function(t,e){function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i}},function(t,e,i){"use strict";var n;((n=i(0))&&n.__esModule?n:{default:n}).default.promote=function(t,e){var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n)for(var s in i[(e+="_")+"constructor"]=n.constructor,n)i.hasOwnProperty(s)&&"function"==typeof n[s]&&(i[e+s]=n[s]);return t}},function(t,e,i){"use strict";var n;((n=i(0))&&n.__esModule?n:{default:n}).default.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(e===t[i])return i;return-1}},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){throw"UID cannot be instantiated"}t._nextID=0,t.get=function(){return t._nextID++},s.default.UID=t}()},function(t,e,i){"use strict";var n;((n=i(0))&&n.__esModule?n:{default:n}).default.deprecate=function(t,e){return function(){var i="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(i):console.log(i)),t&&t.apply(this,arguments)}}},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},s.default.Event=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n,s=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return s&&this.removeEventListener(t,e,i),(s=n[t])?s.push(e):n[t]=[e],e},e.on=function(t,e,i,n,s,r){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,(function(t){e.call(i,t,s),n&&t.remove()}),r)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[t];if(s)for(var r=0,a=s.length;r<a;r++)if(s[r]==e){1==a?delete n[t]:s.splice(r,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,i){if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new s.default.Event(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var r=this,a=[r];r.parent;)a.push(r=r.parent);var o,h=a.length;for(o=h-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;o<h&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n,s=e<=2?this._captureListeners:this._listeners;if(t&&s&&(n=s[t.type])&&(i=n.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=0|e}catch(t){}t.removed=!1,n=n.slice();for(var r=0;r<i&&!t.immediatePropagationStopped;r++){var a=n[r];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},s.default.EventDispatcher=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,s.default.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t._setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.setInterval=s.default.deprecate(t._setInterval,"Ticker.setInterval"),t._getInterval=function(){return t._interval},t.getInterval=s.default.deprecate(t._getInterval,"Ticker.getInterval"),t._setFPS=function(e){t._setInterval(1e3/e)},t.setFPS=s.default.deprecate(t._setFPS,"Ticker.setFPS"),t._getFPS=function(){return 1e3/t._interval},t.getFPS=s.default.deprecate(t._getFPS,"Ticker.getFPS");try{Object.defineProperties(t,{interval:{get:t._getInterval,set:t._setInterval},framerate:{get:t._getFPS,set:t._setFPS}})}catch(t){console.log(t)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf);else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=t._pausedTime=0,t._inited=!1},t.getMeasuredTickTime=function(e){var i=0,n=t._tickTimes;if(!n||n.length<1)return-1;e=Math.min(n.length,e||0|t._getFPS());for(var s=0;s<e;s++)i+=n[s];return i/e},t.getMeasuredFPS=function(e){var i=t._times;return!i||i.length<2?-1:(e=Math.min(i.length-1,e||0|t._getFPS()),1e3/((i[0]-i[e])/e))},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode;if(e==t.RAF_SYNCHED||e==t.RAF){var i=t.requestAnimationFrame;if(i)return t._timerId=i(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,i=t._getTime(),n=i-t._lastTime;if(t._lastTime=i,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=n),t.hasEventListener("tick")){var r=new s.default.Event("tick"),a=t.maxDelta;r.delta=a&&n>a?a:n,r.paused=e,r.time=i,r.runTime=i-t._pausedTime,t.dispatchEvent(r)}for(t._tickTimes.unshift(t._getTime()-i);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(i);t._times.length>100;)t._times.pop()};t._getTime=function(){return(new Date).getTime()-t._startTime},s.default.Ticker=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i,n,s,r,a,o,h,u,l){this.Event_constructor(t,e,i),this.stageX=n,this.stageY=s,this.rawX=null==h?n:h,this.rawY=null==u?s:u,this.nativeEvent=r,this.pointerID=a,this.primary=!!o,this.relatedTarget=l}var e=s.default.extend(t,s.default.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(t){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},s.default.MouseEvent=s.default.promote(t,"Event")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i,n,s,r){this.setValues(t,e,i,n,s,r)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,i,n,s,r){return this.a=null==t?1:t,this.b=e||0,this.c=i||0,this.d=null==n?1:n,this.tx=s||0,this.ty=r||0,this},e.append=function(t,e,i,n,s,r){var a=this.a,o=this.b,h=this.c,u=this.d;return 1==t&&0==e&&0==i&&1==n||(this.a=a*t+h*e,this.b=o*t+u*e,this.c=a*i+h*n,this.d=o*i+u*n),this.tx=a*s+h*r+this.tx,this.ty=o*s+u*r+this.ty,this},e.prepend=function(t,e,i,n,s,r){var a=this.a,o=this.c,h=this.tx;return this.a=t*a+i*this.b,this.b=e*a+n*this.b,this.c=t*o+i*this.d,this.d=e*o+n*this.d,this.tx=t*h+i*this.ty+s,this.ty=e*h+n*this.ty+r,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,i,n,s,r,a,o,h,u){if(r%360)var l=r*t.DEG_TO_RAD,c=Math.cos(l),d=Math.sin(l);else c=1,d=0;return a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i),this.append(c*n,d*n,-d*s,c*s,0,0)):this.append(c*n,d*n,-d*s,c*s,e,i),(h||u)&&(this.tx-=h*this.a+u*this.c,this.ty-=h*this.b+u*this.d),this},e.prependTransform=function(e,i,n,s,r,a,o,h,u){if(r%360)var l=r*t.DEG_TO_RAD,c=Math.cos(l),d=Math.sin(l);else c=1,d=0;return(h||u)&&(this.tx-=h,this.ty-=u),a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.prepend(c*n,d*n,-d*s,c*s,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i)):this.prepend(c*n,d*n,-d*s,c*s,e,i),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var i=Math.cos(e),n=Math.sin(e),s=this.a,r=this.b;return this.a=s*i+this.c*n,this.b=r*i+this.d*n,this.c=-s*n+this.c*i,this.d=-r*n+this.d*i,this},e.skew=function(e,i){return e*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,r=t*n-e*i;return this.a=n/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(t*this.ty-e*s)/r,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,i){return(i=i||{}).x=t*this.a+e*this.c+this.tx,i.y=t*this.b+e*this.d+this.ty,i},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a);return Math.abs(1-i/n)<1e-5?(e.rotation=n/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=i/t.DEG_TO_RAD,e.skewY=n/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,s.default.Matrix2D=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i,n,s){this.setValues(t,e,i,n,s)}var e=t.prototype;e.setValues=function(t,e,i,n,r){return this.visible=null==t||!!t,this.alpha=null==e?1:e,this.shadow=i,this.compositeOperation=n,this.matrix=r||this.matrix&&this.matrix.identity()||new s.default.Matrix2D,this},e.append=function(t,e,i,n,s){return this.alpha*=e,this.shadow=i||this.shadow,this.compositeOperation=n||this.compositeOperation,this.visible=this.visible&&t,s&&this.matrix.appendMatrix(s),this},e.prepend=function(t,e,i,n,s){return this.alpha*=e,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||n,this.visible=this.visible&&t,s&&this.matrix.prependMatrix(s),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},s.default.DisplayProps=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.offset=function(t,e){return this.x+=t,this.y+=e,this},t.polar=function(e,i,n){return(n=n||new t).x=e*Math.cos(i),n.y=e*Math.sin(i),n},t.interpolate=function(e,i,n,s){return(s=s||new t).x=i.x+n*(e.x-i.x),s.y=i.y+n*(e.y-i.y),s},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},s.default.Point=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i,n){this.setValues(t,e,i,n)}var e=t.prototype;e.setValues=function(t,e,i,n){return this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this},e.extend=function(t,e,i,n){return n=n||0,t+(i=i||0)>this.x+this.width&&(this.width=t+i-this.x),e+n>this.y+this.height&&(this.height=e+n-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},e.pad=function(t,e,i,n){return this.x-=e,this.y-=t,this.width+=e+n,this.height+=t+i,this},e.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},e.contains=function(t,e,i,n){return i=i||0,n=n||0,t>=this.x&&t+i<=this.x+this.width&&e>=this.y&&e+n<=this.y+this.height},e.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},e.intersection=function(e){var i=e.x,n=e.y,s=i+e.width,r=n+e.height;return this.x>i&&(i=this.x),this.y>n&&(n=this.y),this.x+this.width<s&&(s=this.x+this.width),this.y+this.height<r&&(r=this.y+this.height),s<=i||r<=n?null:new t(i,n,s-i,r-n)},e.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},e.isEmpty=function(){return this.width<=0||this.height<=0},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},s.default.Rectangle=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i,n){this.color=t||"black",this.offsetX=e||0,this.offsetY=i||0,this.blur=n||0}var e=t.prototype;t.identity=new t("transparent",0,0,0),e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},s.default.Shadow=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=s.default.extend(t,s.default.EventDispatcher);e._getAnimations=function(){return this._animations.slice()},e.getAnimations=s.default.deprecate(e._getAnimations,"SpriteSheet.getAnimations");try{Object.defineProperties(e,{animations:{get:e._getAnimations}})}catch(t){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var i=this.getFrame(t);return i?(e||new s.default.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){throw"SpriteSheet cannot be cloned."},e._parseData=function(t){var e,i,n,r;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(i=t.images.length)>0)for(r=this._images=[],e=0;e<i;e++){var a=t.images[e];r.push(a)}if(null==t.frames);else if(Array.isArray(t.frames))for(this._frames=[],e=0,i=(r=t.frames).length;e<i;e++){var o=r[e];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new s.default.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else n=t.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._spacing=n.spacing||0,this._margin=n.margin||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();var h;if(this._animations=[],null!=(n=t.animations))for(h in this._data={},n){var u={name:h},l=n[h];if("number"==typeof l)r=u.frames=[l];else if(Array.isArray(l))if(1==l.length)u.frames=[l[0]];else for(u.speed=l[3],u.next=l[2],r=u.frames=[],e=l[0];e<=l[1];e++)r.push(e);else{u.speed=l.speed,u.next=l.next;var c=l.frames;r=u.frames="number"==typeof c?[c]:c.slice(0)}!0!==u.next&&void 0!==u.next||(u.next=h),(!1===u.next||r.length<2&&u.next==h)&&(u.next=null),u.speed||(u.speed=1),this._animations.push(h),this._data[h]=u}}},e._handleImageLoad=function(t){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._handleImageError=function(t){var e=new s.default.Event("error");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent("complete")},e._calculateFrames=function(){if(console.log("_calculateFrames"),!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,i=this._frameWidth,n=this._frameHeight,r=this._spacing,a=this._margin;t:for(var o=0,h=this._images;o<h.length;o++)for(var u=h[o],l=u.width||u.naturalWidth,c=u.height||u.naturalHeight,d=a;d<=c-a-n;){for(var f=a;f<=l-a-i;){if(e>=t)break t;e++,this._frames.push({image:u,rect:new s.default.Rectangle(f,d,i,n),regX:this._regX,regY:this._regY}),f+=i+r}d+=n+r}this._numFrames=e}},s.default.SpriteSheet=s.default.promote(t,"EventDispatcher")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,i=t;t.getRGB=function(t,e,i,n){return null!=t&&null==i&&(n=e,i=255&t,e=t>>8&255,t=t>>16&255),null==n?"rgb("+t+","+e+","+i+")":"rgba("+t+","+e+","+i+","+n+")"},t.getHSL=function(t,e,i,n){return null==n?"hsl("+t%360+","+e+"%,"+i+"%)":"hsla("+t%360+","+e+"%,"+i+"%,"+n+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"],t._ctx=wx.createCanvasContext("canvas"),e._getInstructions=function(){return this._updateInstructions(),this._instructions},e.getInstructions=s.default.deprecate(e._getInstructions,"Graphics.getInstructions");try{Object.defineProperties(e,{instructions:{get:e._getInstructions}})}catch(t){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,e){this._updateInstructions();for(var i=this._instructions,n=this._storeIndex,s=i.length;n<s;n++)i[n].exec(t,e)},e.drawAsPath=function(t){this._updateInstructions();for(var e,i=this._instructions,n=this._storeIndex,s=i.length;n<s;n++)!1!==(e=i[n]).path&&e.exec(t)},e.moveTo=function(t,e){return this.append(new i.MoveTo(t,e),!0)},e.lineTo=function(t,e){return this.append(new i.LineTo(t,e))},e.arcTo=function(t,e,n,s,r){return this.append(new i.ArcTo(t,e,n,s,r))},e.arc=function(t,e,n,s,r,a){return this.append(new i.Arc(t,e,n,s,r,a))},e.quadraticCurveTo=function(t,e,n,s){return this.append(new i.QuadraticCurveTo(t,e,n,s))},e.bezierCurveTo=function(t,e,n,s,r,a){return this.append(new i.BezierCurveTo(t,e,n,s,r,a))},e.rect=function(t,e,n,s){return this.append(new i.Rect(t,e,n,s))},e.closePath=function(){return this._activeInstructions.length?this.append(new i.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(t){return this._setFill(t?new i.Fill(t):null)},e.beginLinearGradientFill=function(t,e,n,s,r,a){return this._setFill((new i.Fill).linearGradient(t,e,n,s,r,a))},e.beginRadialGradientFill=function(t,e,n,s,r,a,o,h){return this._setFill((new i.Fill).radialGradient(t,e,n,s,r,a,o,h))},e.beginBitmapFill=function(t,e,n){return this._setFill(new i.Fill(null,n).bitmap(t,e))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,e,n,s,r){return this._updateInstructions(!0),this._strokeStyle=this.command=new i.StrokeStyle(t,e,n,s,r),this._stroke&&(this._stroke.ignoreScale=r),this._strokeIgnoreScale=r,this},e.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new i.StrokeDash(t,e),this},e.beginStroke=function(t){return this._setStroke(t?new i.Stroke(t):null)},e.beginLinearGradientStroke=function(t,e,n,s,r,a){return this._setStroke((new i.Stroke).linearGradient(t,e,n,s,r,a))},e.beginRadialGradientStroke=function(t,e,n,s,r,a,o,h){return this._setStroke((new i.Stroke).radialGradient(t,e,n,s,r,a,o,h))},e.beginBitmapStroke=function(t,e){return this._setStroke((new i.Stroke).bitmap(t,e))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,e,i,n,s){return this.drawRoundRectComplex(t,e,i,n,s,s,s,s)},e.drawRoundRectComplex=function(t,e,n,s,r,a,o,h){return this.append(new i.RoundRect(t,e,n,s,r,a,o,h))},e.drawCircle=function(t,e,n){return this.append(new i.Circle(t,e,n))},e.drawEllipse=function(t,e,n,s){return this.append(new i.Ellipse(t,e,n,s))},e.drawPolyStar=function(t,e,n,s,r,a){return this.append(new i.PolyStar(t,e,n,s,r,a))},e.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},e.decodePath=function(e){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],n=[2,2,4,6,0],s=0,r=e.length,a=[],o=0,h=0,u=t.BASE_64;s<r;){var l=e.charAt(s),c=u[l],d=c>>3,f=i[d];if(!f||3&c)throw"bad path data (@"+s+"): "+l;var p=n[d];d||(o=h=0),a.length=0,s++;for(var _=2+(c>>2&1),g=0;g<p;g++){var v=u[e.charAt(s)],m=v>>5?-1:1;v=(31&v)<<6|u[e.charAt(s+1)],3==_&&(v=v<<6|u[e.charAt(s+2)]),v=m*v/10,g%2?o=v+=o:h=v+=h,a[g]=v,s+=_}f.apply(this,a)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(e){var i=this._instructions,n=this._activeInstructions,s=this._commitIndex;if(this._dirty&&n.length){i.length=s,i.push(t.beginCmd);var r=n.length,a=i.length;i.length=a+r;for(var o=0;o<r;o++)i[o+a]=n[o];this._fill&&i.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&i.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&i.push(this._strokeStyle),e&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),i.push(this._stroke)),this._dirty=!1}e&&(n.length=0,this._commitIndex=i.length)},e._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},e._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(i.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(i.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(i.ArcTo=function(t,e,i,n,s){this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.radius=s}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(i.Arc=function(t,e,i,n,s,r){this.x=t,this.y=e,this.radius=i,this.startAngle=n,this.endAngle=s,this.anticlockwise=!!r}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(i.QuadraticCurveTo=function(t,e,i,n){this.cpx=t,this.cpy=e,this.x=i,this.y=n}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(i.BezierCurveTo=function(t,e,i,n,s,r){this.cp1x=t,this.cp1y=e,this.cp2x=i,this.cp2y=n,this.x=s,this.y=r}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(i.Rect=function(t,e,i,n){this.x=t,this.y=e,this.w=i,this.h=n}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(i.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(i.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},(e=(i.Fill=function(t,e){this.style=t,this.matrix=e}).prototype).exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},e.linearGradient=function(e,i,n,s,r,a){for(var o=this.style=t._ctx.createLinearGradient(n,s,r,a),h=0,u=e.length;h<u;h++)o.addColorStop(i[h],e[h]);return o.props={colors:e,ratios:i,x0:n,y0:s,x1:r,y1:a,type:"linear"},this},e.radialGradient=function(e,i,n,s,r,a,o,h){for(var u=this.style=t._ctx.createRadialGradient(n,s,r,a,o,h),l=0,c=e.length;l<c;l++)u.addColorStop(i[l],e[l]);return u.props={colors:e,ratios:i,x0:n,y0:s,r0:r,x1:a,y1:o,r1:h,type:"radial"},this},e.bitmap=function(e,i){(e.naturalWidth||e.getContext||e.readyState>=2)&&((this.style=t._ctx.createPattern(e,i||"")).props={image:e,repetition:i,type:"bitmap"});return this},e.path=!1,(e=(i.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype).exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},e.linearGradient=i.Fill.prototype.linearGradient,e.radialGradient=i.Fill.prototype.radialGradient,e.bitmap=i.Fill.prototype.bitmap,e.path=!1,(e=(i.StrokeStyle=function(t,e,i,n,s){this.width=t,this.caps=e,this.joints=i,this.miterLimit=n,this.ignoreScale=s}).prototype).exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit,e.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},e.path=!1,(i.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||i.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},i.StrokeDash.EMPTY_SEGMENTS=[],(i.RoundRect=function(t,e,i,n,s,r,a,o){this.x=t,this.y=e,this.w=i,this.h=n,this.radiusTL=s,this.radiusTR=r,this.radiusBR=a,this.radiusBL=o}).prototype.exec=function(t){var e=(h<u?h:u)/2,i=0,n=0,s=0,r=0,a=this.x,o=this.y,h=this.w,u=this.h,l=this.radiusTL,c=this.radiusTR,d=this.radiusBR,f=this.radiusBL;l<0&&(l*=i=-1),l>e&&(l=e),c<0&&(c*=n=-1),c>e&&(c=e),d<0&&(d*=s=-1),d>e&&(d=e),f<0&&(f*=r=-1),f>e&&(f=e),t.moveTo(a+h-c,o),t.arcTo(a+h+c*n,o-c*n,a+h,o+c,c),t.lineTo(a+h,o+u-d),t.arcTo(a+h+d*s,o+u+d*s,a+h-d,o+u,d),t.lineTo(a+f,o+u),t.arcTo(a-f*r,o+u+f*r,a,o+u-f,f),t.lineTo(a,o+l),t.arcTo(a-l*i,o-l*i,a+l,o,l),t.closePath()},(i.Circle=function(t,e,i){this.x=t,this.y=e,this.radius=i}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(i.Ellipse=function(t,e,i,n){this.x=t,this.y=e,this.w=i,this.h=n}).prototype.exec=function(t){var e=this.x,i=this.y,n=this.w,s=this.h,r=.5522848,a=n/2*r,o=s/2*r,h=e+n,u=i+s,l=e+n/2,c=i+s/2;t.moveTo(e,c),t.bezierCurveTo(e,c-o,l-a,i,l,i),t.bezierCurveTo(l+a,i,h,c-o,h,c),t.bezierCurveTo(h,c+o,l+a,u,l,u),t.bezierCurveTo(l-a,u,e,c+o,e,c)},(i.PolyStar=function(t,e,i,n,s,r){this.x=t,this.y=e,this.radius=i,this.sides=n,this.pointSize=s,this.angle=r}).prototype.exec=function(t){var e=this.x,i=this.y,n=this.radius,s=(this.angle||0)/180*Math.PI,r=this.sides,a=1-(this.pointSize||0),o=Math.PI/r;t.moveTo(e+Math.cos(s)*n,i+Math.sin(s)*n);for(var h=0;h<r;h++)s+=o,1!=a&&t.lineTo(e+Math.cos(s)*n*a,i+Math.sin(s)*n*a),s+=o,t.lineTo(e+Math.cos(s)*n,i+Math.sin(s)*n);t.closePath()},t.beginCmd=new i.BeginPath,s.default.Graphics=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.bitmapCache=null,this.id=s.default.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._props=new s.default.DisplayProps,this._rectangle=new s.default.Rectangle,this._bounds=null,this._webGLRenderStyle=t._StageGL_NONE,this._glMtx=new s.default.Matrix2D}var e=s.default.extend(t,s.default.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1,t._StageGL_NONE=0,t._StageGL_SPRITE=1,t._StageGL_BITMAP=2,e._getStage=function(){for(var t=this,e=s.default.Stage;t.parent;)t=t.parent;return t instanceof e?t:null},e.getStage=s.default.deprecate(e._getStage,"DisplayObject.getStage");try{Object.defineProperties(e,{stage:{get:e._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(t){this.bitmapCache&&(this.bitmapCache.cacheID=t)}},scale:{get:function(){return this.scaleX},set:function(t){this.scaleX=this.scaleY=t}}})}catch(t){}e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var i=this.bitmapCache;return!(!i||e)&&i.draw(t)},e.updateContext=function(e){var i=this,n=i.mask,s=i._props.matrix;n&&n.graphics&&!n.graphics.isEmpty()&&(n.getMatrix(s),e.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),n.graphics.drawAsPath(e),e.clip(),s.invert(),e.transform(s.a,s.b,s.c,s.d,s.tx,s.ty)),this.getMatrix(s);var r=s.tx,a=s.ty;t._snapToPixelEnabled&&i.snapToPixel&&(r=r+(r<0?-.5:.5)|0,a=a+(a<0?-.5:.5)|0),e.transform(s.a,s.b,s.c,s.d,r,a),e.globalAlpha*=i.alpha,i.compositeOperation&&(e.globalCompositeOperation=i.compositeOperation),i.shadow&&this._applyShadow(e,i.shadow)},e.cache=function(t,e,i,n,r,a){this.bitmapCache?this.bitmapCache._autoGenerated=!1:this.bitmapCache=new s.default.BitmapCache,this.bitmapCache.define(this,t,e,i,n,r,a)},e.updateCache=function(t){if(!this.bitmapCache)throw"cache() must be called before updateCache()";this.bitmapCache.update(t)},e.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},e.getCacheDataURL=function(t,e){return this.bitmapCache?this.bitmapCache.getCacheDataURL(t,e):null},e.localToGlobal=function(t,e,i){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,i||new s.default.Point)},e.globalToLocal=function(t,e,i){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,i||new s.default.Point)},e.localToLocal=function(t,e,i,n){return n=this.localToGlobal(t,e,n),i.globalToLocal(n.x,n.y,n)},e.setTransform=function(t,e,i,n,s,r,a,o,h){return this.x=t||0,this.y=e||0,this.scaleX=null==i?1:i,this.scaleY=null==n?1:n,this.rotation=s||0,this.skewX=r||0,this.skewY=a||0,this.regX=o||0,this.regY=h||0,this},e.getMatrix=function(t){var e=this,i=t||new s.default.Matrix2D;return e.transformMatrix?i.copy(e.transformMatrix):i.identity()&&i.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.getConcatenatedMatrix=function(t){for(var e=this,i=this.getMatrix(t);e=e.parent;)i.prependMatrix(e.getMatrix(e._props.matrix));return i},e.getConcatenatedDisplayProps=function(t){t=t?t.identity():new s.default.DisplayProps;var e=this,i=e.getMatrix(t.matrix);do{t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&i.prependMatrix(e.getMatrix(e._props.matrix))}while(e=e.parent);return t},e.hitTest=function(e,i){t._hitTestContext||(t._hitTestContext=t._hitTestCanvas.getContext("2d"));var n=t._hitTestContext;n.setTransform(1,0,0,1,-e,-i),this.draw(n,!(this.bitmapCache&&!(this.bitmapCache._cacheCanvas instanceof WebGLTexture)));var s=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),s},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.bitmapCache;return t&&this.cacheCanvas?t.getBounds():null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,i,n){this._bounds=null!=t?(this._bounds||new s.default.Rectangle).setValues(t,e,i,n):t},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._updateState=null,e._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t._webGLRenderStyle=this._webGLRenderStyle,t},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e._testHit=function(e){try{var i=e.getImageData(0,0,1,1).data[3]>1}catch(e){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,i){if(!t)return t;var n=t.x,s=t.y,r=t.width,a=t.height,o=this._props.matrix;o=i?o.identity():this.getMatrix(o),(n||s)&&o.appendTransform(0,0,1,1,0,0,0,-n,-s),e&&o.prependMatrix(e);var h=r*o.a,u=r*o.b,l=a*o.c,c=a*o.d,d=o.tx,f=o.ty,p=d,_=d,g=f,v=f;return(n=h+d)<p?p=n:n>_&&(_=n),(n=h+l+d)<p?p=n:n>_&&(_=n),(n=l+d)<p?p=n:n>_&&(_=n),(s=u+f)<g?g=s:s>v&&(v=s),(s=u+c+f)<g?g=s:s>v&&(v=s),(s=c+f)<g?g=s:s>v&&(v=s),t.setValues(p,g,_-p,v-g)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,i=0,n=e.length;i<n;i++)if(this.hasEventListener(e[i]))return!0;return!!this.cursor},s.default.DisplayObject=s.default.promote(t,"EventDispatcher")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=s.default.extend(t,s.default.DisplayObject);e._getNumChildren=function(){return this.children.length},e.getNumChildren=s.default.deprecate(e._getNumChildren,"Container.getNumChildren");try{Object.defineProperties(e,{numChildren:{get:e._getNumChildren}})}catch(t){}e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var i=this.children.slice(),n=0,s=i.length;n<s;n++){var r=i[n];r.isVisible()&&(t.save(),r.updateContext(t),r.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var i=0;i<e;i++)this.addChild(arguments[i]);return arguments[e-1]}var n=t.parent,r=n===this;return n&&n._removeChildAt(s.default.indexOf(n.children,t),r),t.parent=this,this.children.push(t),r||t.dispatchEvent("added"),t},e.addChildAt=function(t,e){var i=arguments.length,n=arguments[i-1];if(n<0||n>this.children.length)return arguments[i-2];if(i>2){for(var r=0;r<i-1;r++)this.addChildAt(arguments[r],n+r);return arguments[i-2]}var a=t.parent,o=a===this;return a&&a._removeChildAt(s.default.indexOf(a.children,t),o),t.parent=this,this.children.splice(e,0,t),o||t.dispatchEvent("added"),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;n<e;n++)i=i&&this.removeChild(arguments[n]);return i}return this._removeChildAt(s.default.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var i=[],n=0;n<e;n++)i[n]=arguments[n];i.sort((function(t,e){return e-t}));var s=!0;for(n=0;n<e;n++)s=s&&this._removeChildAt(i[n]);return s}return this._removeChildAt(t)},e.removeAllChildren=function(){for(var t=this.children;t.length;)this._removeChildAt(0)},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,i=0,n=e.length;i<n;i++)if(e[i].name==t)return e[i];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return s.default.indexOf(this.children,t)},e.swapChildrenAt=function(t,e){var i=this.children,n=i[t],s=i[e];n&&s&&(i[t]=s,i[e]=n)},e.swapChildren=function(t,e){for(var i,n,s=this.children,r=0,a=s.length;r<a&&(s[r]==t&&(i=r),s[r]==e&&(n=r),null==i||null==n);r++);r!=a&&(s[i]=e,s[n]=t)},e.setChildIndex=function(t,e){var i=this.children,n=i.length;if(!(t.parent!=this||e<0||e>=n)){for(var s=0;s<n&&i[s]!=t;s++);s!=n&&s!=e&&(i.splice(s,1),i.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e,i){var n=[],s=this.localToGlobal(t,e);return this._getObjectsUnderPoint(s.x,s.y,n,i>0,1==i),n},e.getObjectUnderPoint=function(t,e,i){var n=this.localToGlobal(t,e);return this._getObjectsUnderPoint(n.x,n.y,null,i>0,1==i)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var i=this._cloneProps(new t);return e&&this._cloneChildren(i),i},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var i=this.children[e];i.tickEnabled&&i._tick&&i._tick(t)}this.DisplayObject__tick(t)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,i=0,n=this.children.length;i<n;i++){var s=this.children[i].clone(!0);s.parent=t,e.push(s)}},e._removeChildAt=function(t,e){if(t<0||t>this.children.length-1)return!1;var i=this.children[t];return i&&(i.parent=null),this.children.splice(t,1),e||i.dispatchEvent("removed"),!0},e._getObjectsUnderPoint=function(e,i,n,r,a,o){if(!(o=o||0)&&!this._testMask(this,e,i))return null;var h,u=s.default.DisplayObject._hitTestContext;a=a||r&&this._hasMouseEventListener();for(var l=this.children,c=l.length-1;c>=0;c--){var d=l[c],f=d.hitArea;if(d.visible&&(f||d.isVisible())&&(!r||d.mouseEnabled)&&(f||this._testMask(d,e,i)))if(!f&&d instanceof t){var p=d._getObjectsUnderPoint(e,i,n,r,a,o+1);if(!n&&p)return r&&!this.mouseChildren?this:p}else{if(r&&!a&&!d._hasMouseEventListener())continue;var _=d.getConcatenatedDisplayProps(d._props);if(h=_.matrix,f&&(h.appendMatrix(f.getMatrix(f._props.matrix)),_.alpha=f.alpha),u.globalAlpha=_.alpha,u.setTransform(h.a,h.b,h.c,h.d,h.tx-e,h.ty-i),(f||d).draw(u),!this._testHit(u))continue;if(u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,2,2),!n)return r&&!this.mouseChildren?this:d;n.push(d)}}return null},e._testMask=function(t,e,i){var n=t.mask;if(!n||!n.graphics||n.graphics.isEmpty())return!0;var r=this._props.matrix,a=t.parent;r=a?a.getConcatenatedMatrix(r):r.identity(),r=n.getMatrix(n._props.matrix).prependMatrix(r);var o=s.default.DisplayObject._hitTestContext;return o.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-i),n.graphics.drawAsPath(o),o.fillStyle="#000",o.fill(),!!this._testHit(o)&&(o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,2,2),!0)},e._getBounds=function(t,e){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,t,e);var n=this._props.matrix;n=e?n.identity():this.getMatrix(n),t&&n.prependMatrix(t);for(var s=this.children.length,r=null,a=0;a<s;a++){var o=this.children[a];o.visible&&(i=o._getBounds(n))&&(r?r.extend(i.x,i.y,i.width,i.height):r=i.clone())}return r},s.default.Container=s.default.promote(t,"DisplayObject")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};function r(t,e,i,n,s,r,a){try{var o=t[r](a),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(n,s)}function a(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,h,"next",t)}function h(t){r(a,n,s,o,h,"throw",t)}o(void 0)}))}}!function(){function t(t,e,i){this.Container_constructor(),this.autoClear=!0,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!1)}var e=s.default.extend(t,s.default.Container);e._get_nextStage=function(){return this._nextStage},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(t){}e.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),!1!==this.dispatchEvent("drawstart",!1,!0))){s.default.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,i=this.ctx;i.setTransform(1,0,0,1,0,0),this.autoClear&&(e?i.clearRect(e.x,e.y,e.width,e.height): i.clearRect(0, 0, this.canvas.width+1,this.canvas.height+1)),i.save(),this.drawRect&&(i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()),this.updateContext(i),this.draw(i,!1),i.restore(),this.dispatchEvent("drawend")}},e.draw=function(t,e){var i=this.Container_draw(t,e);return this.canvas._invalid=!0,i},e.tick=function(t){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var e=new s.default.Event("tick");if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);this._tick(e),this.dispatchEvent("tickend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){var i,n=this.canvas.getContext("2d"),s=this.canvas.width,r=this.canvas.height;if(t){i=n.getImageData(0,0,s,r);var a=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,s,r)}var o=this.canvas.toDataURL(e||"image/png");return t&&(n.putImageData(i,0,0),n.globalCompositeOperation=a),o},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(t<=0)return;var e=this;this._mouseOverIntervalID=setInterval((function(){e._testMouseOver()}),1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,i,n=this._eventListeners;if(!t&&n){for(e in n)(i=n[e]).t.removeEventListener(e,i.f,!1);this._eventListeners=null}else if(t&&!n&&this.canvas){var s=this.canvas,r=this;for(e in(n=this._eventListeners={}).mouseup={t:s,f:function(t){r._handleMouseUp(t)}},n.mousemove={t:s,f:function(t){r._handleMouseMove(t)}},n.dblclick={t:this.canvas,f:function(t){r._handleDoubleClick(t)}},n.mousedown={t:this.canvas,f:function(t){r._handleMouseDown(t)}},n)(i=n[e]).t.addEventListener(e,i.f,!1)}},e.clone=function(){throw"Stage cannot be cloned."},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e={top:0,left:0,width:this.canvas.width,height:this.canvas.height,bottom:this.canvas.height,right:this.canvas.width}}catch(i){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,i,n,s){if((!this._prevStage||void 0!==s)&&this.canvas){var r=this._nextStage,a=this._getPointerData(t),o=a.inBounds;this._updatePointerPosition(t,e,i,n),(o||a.inBounds||this.mouseMoveOutside)&&(-1===t&&a.inBounds==!o&&this._dispatchMouseEvent(this,o?"mouseleave":"mouseenter",!1,t,a,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,a,e),this._dispatchMouseEvent(a.target,"pressmove",!0,t,a,e)),r&&r._handlePointerMove(t,e,i,n,null)}},e._updatePointerPosition=function(t,e,i,n){var s=this._getElementRect(this.canvas);i-=s.left,n-=s.top;var r=this.canvas.width,a=this.canvas.height;i/=(s.right-s.left)/r,n/=(s.bottom-s.top)/a;var o=this._getPointerData(t);(o.inBounds=i>=0&&n>=0&&i<=r-1&&n<=a-1)?(o.x=i,o.y=n):this.mouseMoveOutside&&(o.x=i<0?0:i>r-1?r-1:i,o.y=n<0?0:n>a-1?a-1:n),o.posEvtObj=e,o.rawX=i,o.rawY=n,t!==this._primaryPointerID&&-1!==t||(this.mouseX=o.x,this.mouseY=o.y,this.mouseInBounds=o.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,i,n){var s=this._nextStage,r=this._getPointerData(t);if(!this._prevStage||void 0!==n){var a=null,o=r.target;n||!o&&!s||(a=this._getObjectsUnderPoint(r.x,r.y,null,!0)),r.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,r,e,a),r.down=!1),a==o&&this._dispatchMouseEvent(o,"click",!0,t,r,e),this._dispatchMouseEvent(o,"pressup",!0,t,r,e),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):r.target=null,s&&s._handlePointerUp(t,e,i,n||a&&this)}},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,i,n,s){null!=this._primaryPointerID&&-1!==t||(this._primaryPointerID=t),null!=n&&this._updatePointerPosition(t,e,i,n);var r=null,a=this._nextStage,o=this._getPointerData(t);s||(r=o.target=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,o,e,r),o.down=!0),this._dispatchMouseEvent(r,"mousedown",!0,t,o,e),a&&a._handlePointerDown(t,e,i,n,s||r&&this)},e._testMouseOver=function(){var t=a(regeneratorRuntime.mark((function t(e,i,n){var s,r,a,o,h,u,l,c,d,f,p,_,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._prevStage||void 0!==i){t.next=2;break}return t.abrupt("return");case 2:if(s=this._nextStage,this._mouseOverIntervalID){t.next=6;break}return s&&s._testMouseOver(e,i,n),t.abrupt("return");case 6:if((r=this._getPointerData(-1))&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){t.next=9;break}return t.abrupt("return");case 9:if(a=r.posEvtObj,o=n||a&&a.target==this.canvas,h=null,u=-1,l="",i||!(e||this.mouseInBounds&&o)){t.next=18;break}return t.next=15,this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0);case 15:h=t.sent,this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY;case 18:for(p=this._mouseOverTarget||[],_=p[p.length-1],g=this._mouseOverTarget=[],c=h;c;)g.unshift(c),l||(l=c.cursor),c=c.parent;this.canvas.style.cursor=l,!i&&n&&(n.canvas.style.cursor=l),d=0,f=g.length;case 26:if(!(d<f)){t.next=33;break}if(g[d]==p[d]){t.next=29;break}return t.abrupt("break",33);case 29:u=d;case 30:d++,t.next=26;break;case 33:for(_!=h&&this._dispatchMouseEvent(_,"mouseout",!0,-1,r,a,h),d=p.length-1;d>u;d--)this._dispatchMouseEvent(p[d],"rollout",!1,-1,r,a,h);for(d=g.length-1;d>u;d--)this._dispatchMouseEvent(g[d],"rollover",!1,-1,r,a,_);_!=h&&this._dispatchMouseEvent(h,"mouseover",!0,-1,r,a,_),s&&s._testMouseOver(e,i||h&&this,n||o&&this);case 38:case"end":return t.stop()}}),t,this)})));return function(e,i,n){return t.apply(this,arguments)}}(),e._handleDoubleClick=function(){var t=a(regeneratorRuntime.mark((function t(e,i){var n,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,s=this._nextStage,r=this._getPointerData(-1),i){t.next=6;break}return t.next=4,this._getObjectsUnderPoint(r.x,r.y,null,!0);case 4:n=t.sent,this._dispatchMouseEvent(n,"dblclick",!0,-1,r,e);case 6:s&&s._handleDoubleClick(e,i||n&&this);case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),e._dispatchMouseEvent=function(t,e,i,n,r,a,o){if(t&&(i||t.hasEventListener(e))){var h=new s.default.MouseEvent(e,i,!1,r.x,r.y,a,n,n===this._primaryPointerID||-1===n,r.rawX,r.rawY,o);t.dispatchEvent(h)}},s.default.Stage=s.default.promote(t,"Container")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){this.DisplayObject_constructor(),this.image=t,this.sourceRect=null,this._webGLRenderStyle=s.default.DisplayObject._StageGL_BITMAP}var e=s.default.extend(t,s.default.DisplayObject);e.initialize=t,e.isVisible=function(){return this.image},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.image,n=this.sourceRect;if(i.getImage&&(i=i.getImage()),!i)return!0;if(n){var s=n.x,r=n.y,a=s+n.width,o=r+n.height,h=0,u=0,l=i.width,c=i.height;s<0&&(h-=s,s=0),a>l&&(a=l),r<0&&(u-=r,r=0),o>c&&(o=c),t.drawImage(i,s,r,a-s,o-r,h,u,a-s,o-r)}else t.drawImage(i,0,0);return!0},e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,i=this.sourceRect||e;return e&&(e.naturalWidth||e.getContext||e.readyState>=2)?this._rectangle.setValues(0,0,i.width,i.height):null},e.clone=function(e){var i=this.image;i&&e&&((i=i.cloneNode()).src=i.src);var n=new t(i);return this.sourceRect&&(n.sourceRect=this.sourceRect.clone()),this._cloneProps(n),n},e.toString=function(){return"[Bitmap (name="+this.name+")]"},s.default.Bitmap=s.default.promote(t,"DisplayObject")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,this._webGLRenderStyle=s.default.DisplayObject._StageGL_SPRITE,null!=e&&this.gotoAndPlay(e)}var e=s.default.extend(t,s.default.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var n=i.rect;return n.width&&n.height&&t.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,i=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(i)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return"[Sprite (name="+this.name+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e,i=this._animation,n=this.paused,s=this._currentFrame;if(i){var r=i.speed||1,a=this.currentAnimationFrame;if(a+t*r>=(e=i.frames.length)){var o=i.next;if(this._dispatchAnimationEnd(i,s,n,o,e-1))return;if(o)return this._goto(o,t-(e-a)/r);this.paused=!0,a=i.frames.length-1}else a+=t*r;this.currentAnimationFrame=a,this._currentFrame=i.frames[0|a]}else if((s=this._currentFrame+=t)>=(e=this.spriteSheet.getNumFrames())&&e>0&&!this._dispatchAnimationEnd(i,s,n,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();s=0|this._currentFrame,this.currentFrame!=s&&(this.currentFrame=s,this.dispatchEvent("change"))},e._dispatchAnimationEnd=function(t,e,i,n,r){var a=t?t.name:null;if(this.hasEventListener("animationend")){var o=new s.default.Event("animationend");o.name=a,o.next=n,this.dispatchEvent(o)}var h=this._animation!=t||this._currentFrame!=e;return h||i||!this.paused||(this.currentAnimationFrame=r,h=!0),h},e._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var i=this.spriteSheet.getAnimation(t);i&&(this._animation=i,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},s.default.Sprite=s.default.promote(t,"DisplayObject")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){this.DisplayObject_constructor(),this.graphics=t||new s.default.Graphics}var e=s.default.extend(t,s.default.DisplayObject);e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this.graphics.draw(t,this),!0)},e.clone=function(e){var i=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(i))},e.toString=function(){return"[Shape (name="+this.name+")]"},s.default.Shape=s.default.promote(t,"DisplayObject")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=i,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=s.default.extend(t,s.default.DisplayObject);t._workingContext=wx.createCanvasContext("canvas"),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.color||"#000";return this.outline?(t.strokeStyle=i,t.lineWidth=1*this.outline):t.fillStyle=i,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""===this.text)return null;var i=this._drawText(null,{}),n=this.maxWidth&&this.maxWidth<i.width?this.maxWidth:i.width,s=n*t.H_OFFSETS[this.textAlign||"left"],r=(this.lineHeight||this.getMeasuredLineHeight())*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(s,r,n,i.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},e._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t.lineJoin="miter",t.miterLimit=2.5,t},e._drawText=function(e,i,n){var s=!!e;s||((e=t._workingContext).save(),this._prepContext(e));for(var r=this.lineHeight||this.getMeasuredLineHeight(),a=0,o=0,h=String(this.text).split(/(?:\r\n|\r|\n)/),u=0,l=h.length;u<l;u++){var c=h[u],d=null;if(null!=this.lineWidth&&(d=e.measureText(c).width)>this.lineWidth){var f=c.split(/(\s)/);c=f[0],d=e.measureText(c).width;for(var p=1,_=f.length;p<_;p+=2){var g=e.measureText(f[p]+f[p+1]).width;d+g>this.lineWidth?(s&&this._drawTextLine(e,c,o*r),n&&n.push(c),d>a&&(a=d),c=f[p+1],d=e.measureText(c).width,o++):(c+=f[p]+f[p+1],d+=g)}}s&&this._drawTextLine(e,c,o*r),n&&n.push(c),i&&null==d&&(d=e.measureText(c).width),d>a&&(a=d),o++}return i&&(i.width=a,i.height=o*r),s||e.restore(),i},e._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var i=t._workingContext;i.save();var n=this._prepContext(i).measureText(e).width;return i.restore(),n},s.default.Text=s.default.promote(t,"DisplayObject")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e){this.Container_constructor(),this.text=t||"",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},this._oldStage=null,this._drawAction=null}var e=s.default.extend(t,s.default.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateState(),this.Container_draw(t,e))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._updateState=function(){this._updateText()},e._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},e._getFrameIndex=function(t,e){var i,n=e.getAnimation(t);return n||(t!=(i=t.toUpperCase())||t!=(i=t.toLowerCase())||(i=null),i&&(n=e.getAnimation(i))),n&&n.frames[0]},e._getFrame=function(t,e){var i=this._getFrameIndex(t,e);return null==i?i:e.getFrame(i)},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._updateText=function(){var e,i=0,n=0,r=this._oldProps,a=!1,o=this.spaceWidth,h=this.lineHeight,u=this.spriteSheet,l=t._spritePool,c=this.children,d=0,f=c.length;for(var p in r)r[p]!=this[p]&&(r[p]=this[p],a=!0);if(a){var _=!!this._getFrame(" ",u);_||o||(o=this._getSpaceWidth(u)),h||(h=this._getLineHeight(u));for(var g=0,v=this.text.length;g<v;g++){var m=this.text.charAt(g);if(" "!=m||_)if("\n"!=m&&"\r"!=m){var x=this._getFrameIndex(m,u);null!=x&&(d<f?e=c[d]:(c.push(e=l.length?l.pop():new s.default.Sprite),e.parent=this,f++),e.spriteSheet=u,e.gotoAndStop(x),e.x=i,e.y=n,d++,i+=e.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(g+1)&&g++,i=0,n+=h;else i+=o}for(;f>d;)l.push(e=c.pop()),e.parent=null,f--;l.length>t.maxPoolSize&&(l.length=t.maxPoolSize)}},s.default.BitmapText=s.default.promote(t,"Container")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(e){var i,n,r,a;this.Container_constructor(),!t.inited&&t.init(),e instanceof String||arguments.length>1?(i=e,n=arguments[1],r=arguments[2],a=arguments[3],null==r&&(r=-1),e=null):e&&(i=e.mode,n=e.startPosition,r=e.loop,a=e.labels),e||(e={labels:a}),this.mode=i||t.INDEPENDENT,this.startPosition=n||0,this.loop=!0===r?-1:r||0,this.currentFrame=0,this.paused=e.paused||!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||e.frameBounds,this.framerate=null,e.useTicks=e.paused=!0,this.timeline=new s.default.Timeline(e),this._synchOffset=0,this._rawPosition=-1,this._bound_resolveState=this._resolveState.bind(this),this._t=0,this._managed={}}var e=s.default.extend(t,s.default.Container);t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",t.inited=!1,t.init=function(){t.inited||(i.install(),t.inited=!0)},e._getLabels=function(){return this.timeline.getLabels()},e.getLabels=s.default.deprecate(e._getLabels,"MovieClip.getLabels"),e._getCurrentLabel=function(){return this.timeline.currentLabel},e.getCurrentLabel=s.default.deprecate(e._getCurrentLabel,"MovieClip.getCurrentLabel"),e._getDuration=function(){return this.timeline.duration},e.getDuration=s.default.deprecate(e._getDuration,"MovieClip.getDuration");try{Object.defineProperties(e,{labels:{get:e._getLabels},currentLabel:{get:e._getCurrentLabel},totalFrames:{get:e._getDuration},duration:{get:e._getDuration}})}catch(t){}function i(){throw"MovieClipPlugin cannot be instantiated."}e.initialize=t,e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this._updateState(),this.Container_draw(t,e),!0)},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(e){var i=t.INDEPENDENT;if(this.mode===i){for(var n=this,s=n.framerate;(n=n.parent)&&null===s;)n.mode===i&&(s=n._framerate);if(this._framerate=s,!this.paused){var r=null!==s&&-1!==s&&null!==e?e/(1e3/s)+this._t:1,a=0|r;for(this._t=r-a;a--;)this._updateTimeline(this._rawPosition+1,!1)}}},e.clone=function(){throw"MovieClip cannot be cloned."},e.toString=function(){return"[MovieClip (name="+this.name+")]"},e._updateState=function(){-1!==this._rawPosition&&this.mode===t.INDEPENDENT||this._updateTimeline(-1)},e._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},e._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(this._t=0,this._updateTimeline(e,!0))},e._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},e._updateTimeline=function(e,i){var n=this.mode!==t.INDEPENDENT,s=this.timeline;n&&(e=this.startPosition+(this.mode===t.SINGLE_FRAME?0:this._synchOffset)),e<0&&(e=0),(this._rawPosition!==e||n)&&(this._rawPosition=e,s.loop=this.loop,s.setPosition(e,n||!this.actionsEnabled,i,this._bound_resolveState))},e._renderFirstFrame=function(){var t=this.timeline,e=t.rawPosition;t.setPosition(0,!0,!0,this._bound_resolveState),t.rawPosition=e},e._resolveState=function(){var t=this.timeline;for(var e in this.currentFrame=t.position,this._managed)this._managed[e]=1;for(var i=t.tweens,n=0,r=i.length;n<r;n++){var a=i[n],o=a.target;if(o!==this&&!a.passive){var h=a._stepPosition;o instanceof s.default.DisplayObject?this._addManagedChild(o,h):this._setState(o.state,h)}}var u=this.children;for(n=u.length-1;n>=0;n--){var l=u[n].id;1===this._managed[l]&&(this.removeChildAt(n),delete this._managed[l])}},e._setState=function(t,e){if(t)for(var i=t.length-1;i>=0;i--){var n=t[i],s=n.t,r=n.p;for(var a in r)s[a]=r[a];this._addManagedChild(s,e)}},e._addManagedChild=function(e,i){e._off||(this.addChildAt(e,0),e instanceof t&&(e._synchOffset=i,e.mode===t.INDEPENDENT&&e.autoReset&&!this._managed[e.id]&&e._reset()),this._managed[e.id]=2)},e._getBounds=function(t,e){var i=this.DisplayObject_getBounds();return i||this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame])),i?this._transformBounds(i,t,e):this.Container__getBounds(t,e)},s.default.MovieClip=s.default.promote(t,"Container"),i.priority=100,i.ID="MovieClip",i.install=function(){s.default.Tween._installPlugin(i)},i.init=function(e,n,s){"startPosition"===n&&e.target instanceof t&&e._addPlugin(i)},i.step=function(t,e,i){},i.change=function(t,e,i,n,s,r){if("startPosition"===i)return 1===s?e.props[i]:e.prev.props[i]}}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){throw"SpriteSheetUtils cannot be instantiated"}t._workingContext=wx.createCanvasContext("canvas"),t.extractFrame=function(e,i){isNaN(i)&&(i=e.getAnimation(i).frames[0]);var n=e.getFrame(i);if(!n)return null;var s=n.rect,r=t._workingCanvas;r.width=s.width,r.height=s.height,t._workingContext.drawImage(n.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=document.createElement("img");return a.src=r.toDataURL("image/png"),a},t.addFlippedFrames=s.default.deprecate(null,"SpriteSheetUtils.addFlippedFrames"),t.mergeAlpha=s.default.deprecate(null,"SpriteSheetUtils.mergeAlpha"),t._flip=function(e,i,n,s){for(var r=e._images,a=t._workingCanvas,o=t._workingContext,h=r.length/i,u=0;u<h;u++){var l=r[u];l.__tmp=u,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=l.width,a.height=l.height,o.setTransform(n?-1:1,0,0,s?-1:1,n?l.width:0,s?l.height:0),o.drawImage(l,0,0);var c=document.createElement("img");c.src=a.toDataURL("image/png"),c.width=l.width||l.naturalWidth,c.height=l.height||l.naturalHeight,r.push(c)}var d=e._frames,f=d.length/i;for(u=0;u<f;u++){var p=(l=d[u]).rect.clone(),_={image:c=r[l.image.__tmp+h*i],rect:p,regX:l.regX,regY:l.regY};n&&(p.x=(c.width||c.naturalWidth)-p.x-p.width,_.regX=p.width-l.regX),s&&(p.y=(c.height||c.naturalHeight)-p.y-p.height,_.regY=p.height-l.regY),d.push(_)}var g="_"+(n?"h":"")+(s?"v":""),v=e._animations,m=e._data,x=v.length/i;for(u=0;u<x;u++){var b=v[u],w={name:b+g,speed:(l=m[b]).speed,next:l.next,frames:[]};l.next&&(w.next+=g);for(var y=0,T=(d=l.frames).length;y<T;y++)w.frames.push(d[y]+f*i);m[w.name]=w,v.push(w.name)}},s.default.SpriteSheetUtils=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=t||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=s.default.extend(t,s.default.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.addFrame=function(e,i,n,s,r){if(this._data)throw t.ERR_RUNNING;var a=i||e.bounds||e.nominalBounds;return!a&&e.getBounds&&(a=e.getBounds()),a?(n=n||1,this._frames.push({source:e,sourceRect:a,scale:n,funct:s,data:r,index:this._frames.length,height:a.height*n})-1):null},e.addAnimation=function(e,i,n,s){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:i,next:n,speed:s}},e.addMovieClip=function(e,i,n,s,r,a){if(this._data)throw t.ERR_RUNNING;var o=e.frameBounds,h=i||e.bounds||e.nominalBounds;if(!h&&e.getBounds&&(h=e.getBounds()),h||o){var u,l,c=this._frames.length,d=e.timeline.duration;for(u=0;u<d;u++){var f=o&&o[u]?o[u]:h;this.addFrame(e,f,n,this._setupMovieClipFrame,{i:u,f:s,d:r})}var p=e.timeline._labels,_=[];for(var g in p)_.push({index:p[g],label:g});if(_.length)for(_.sort((function(t,e){return t.index-e.index})),u=0,l=_.length;u<l;u++){for(var v=_[u].label,m=c+_[u].index,x=c+(u==l-1?d:_[u+1].index),b=[],w=m;w<x;w++)b.push(w);a&&!(v=a(v,e,m,x))||this.addAnimation(v,b,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var i=this;this._timerID=setTimeout((function(){i._run()}),50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,framerate:this.framerate,animations:this._animations};var n=this._frames.slice();if(n.sort((function(t,e){return t.height<=e.height?-1:1})),n[n.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var r=0,a=0,o=0;n.length;){var h=this._fillRow(n,r,o,i,e);if(h.w>a&&(a=h.w),r+=h.h,!h.h||!n.length){var u=s.default.createCanvas?s.default.createCanvas():document.createElement("canvas");u.width=this._getSize(a,this.maxWidth),u.height=this._getSize(r,this.maxHeight),this._data.images[o]=u,h.h||(a=r=0,o++)}}},e._setupMovieClipFrame=function(t,e){var i=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=i,e.f&&e.f(t,e.d,e.i)},e._getSize=function(t,e){for(var i=4;Math.pow(2,++i)<t;);return Math.min(e,Math.pow(2,i))},e._fillRow=function(e,i,n,r,a){for(var o=this.maxWidth,h=this.maxHeight-(i+=a),u=a,l=0,c=e.length-1;c>=0;c--){var d=e[c],f=this._scale*d.scale,p=d.sourceRect,_=d.source,g=Math.floor(f*p.x-a),v=Math.floor(f*p.y-a),m=Math.ceil(f*p.height+2*a),x=Math.ceil(f*p.width+2*a);if(x>o)throw t.ERR_DIMENSIONS;m>h||u+x>o||(d.img=n,d.rect=new s.default.Rectangle(u,i,x,m),l=l||m,e.splice(c,1),r[d.index]=[u,i,x,m,n,Math.round(-g+f*_.regX-a),Math.round(-v+f*_.regY-a)],u+=x)}return{w:u,h:l}},e._endBuild=function(){this.spriteSheet=new s.default.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,i=!1;e>(new Date).getTime();)if(!this._drawNext()){i=!0;break}if(i)this._endBuild();else{var n=this;this._timerID=setTimeout((function(){n._run()}),50-t)}var r=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var a=new s.default.Event("progress");a.progress=r,this.dispatchEvent(a)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,n=t.sourceRect,s=this._data.images[t.img].getContext("2d");return t.funct&&t.funct(t.source,t.data),s.save(),s.beginPath(),s.rect(i.x,i.y,i.width,i.height),s.clip(),s.translate(Math.ceil(i.x-n.x*e),Math.ceil(i.y-n.y*e)),s.scale(e,e),t.source.draw(s),s.restore(),++this._index<this._frames.length},s.default.SpriteSheetBuilder=s.default.promote(t,"EventDispatcher")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}var e=t.prototype;t.isValidImageSource=function(t){return Boolean(t)&&(t instanceof Image||t instanceof WebGLTexture||t instanceof HTMLCanvasElement)},e.getBounds=function(t){return t},e.shaderParamSetup=function(t,e,i){},e.applyFilter=function(t,e,i,n,s,r){r=r||t;try{var a=t.getImageData(e,i,n,s)}catch(t){return!1}return!!this._applyFilter(a)&&(r.putImageData(a,e,i),!0)},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},e._applyFilter=function(t){return!0},s.default.Filter=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};function r(t,e,i,n,s,r,a){try{var o=t[r](a),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(n,s)}!function(){function t(){this.width=void 0,this.height=void 0,this.x=void 0,this.y=void 0,this.scale=1,this.offX=0,this.offY=0,this.cacheID=0,this._filterCount=0,this._filterOffX=0,this._filterOffY=0,this._disabled=!1,this._autoGenerated=!1,this._cacheCanvas=null,this._stageGL=null,this._cacheDataURLID=0,this._cacheDataURL=null,this._drawWidth=0,this._drawHeight=0,this._boundRect=new s.default.Rectangle,this._counterMatrix=null,this._bufferTextureOutput=null,this._bufferTextureConcat=null,this._bufferTextureTemp=null}var e=t.prototype;e._get_disabled=function(){return this._disabled},e._set_disabled=function(t){this._disabled=!!t,this.target&&(this.target.cacheCanvas=this._disabled||this._autoGenerated?null:this._cacheCanvas)};try{Object.defineProperties(e,{disabled:{get:e._get_disabled,set:e._set_disabled}})}catch(t){}t.getFilterBounds=function(t,e){e||(e=new s.default.Rectangle);var i=t.filters,n=i&&i.length;if(!!n<=0)return e;for(var r=0;r<n;r++){var a=i[r];if(a&&a.getBounds){var o=a.getBounds();o&&(0===r?e.setValues(o.x,o.y,o.width,o.height):e.extend(o.x,o.y,o.width,o.height))}}return e},t.filterCounter=function(t,e){for(var i=1;e._multiPass;)e=e._multiPass,i++;return t+i},e.toString=function(){return"[BitmapCache]"},e.define=function(t,e,i,n,s,r,a){if(!t)throw"No symbol to cache";this._options=a,this.target=t,this.width=n>=1?n:1,this.height=s>=1?s:1,this.x=e||0,this.y=i||0,this.scale=r||1,this.update()},e.update=function(e){if(!this.target)throw"define() must be called before update()";var i=t.getFilterBounds(this.target),n=this._cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+i.width,this._drawHeight=Math.ceil(this.height*this.scale)+i.height,this._filterCount=this.target.filters&&this.target.filters.reduce(t.filterCounter,0),n&&this._drawWidth===n.width&&this._drawHeight===n.height||this._updateSurface(),this._stageGL&&(null===this._bufferTextureOutput?this._bufferTextureOutput=this._stageGL.getRenderBufferTexture(this._drawWidth,this._drawHeight):this._stageGL.resizeTexture(this._bufferTextureOutput,this._drawWidth,this._drawHeight),null===this._cacheCanvas&&(this._cacheCanvas=this._bufferTextureOutput,this.disabled=this._disabled),this._filterCount>=1&&(null===this._bufferTextureConcat?this._bufferTextureConcat=this._stageGL.getRenderBufferTexture(this._drawWidth,this._drawHeight):this._stageGL.resizeTexture(this._bufferTextureConcat,this._drawWidth,this._drawHeight))),this._filterOffX=i.x,this._filterOffY=i.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(e),this.cacheID=this.cacheID?this.cacheID+1:1},e.release=function(){this.target.stage;this.disabled=!0,this.target=this._cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},e.getCacheDataURL=function(){var t=this.target&&this._cacheCanvas;return t?(this.cacheID!==this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=t.toDataURL?t.toDataURL():null),this._cacheDataURL):null},e.draw=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.target){t.next=2;break}return t.abrupt("return",!1);case 2:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)})),function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,h,"next",t)}function h(t){r(a,n,s,o,h,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}(),e.getBounds=function(){var t=this.scale;return this._boundRect.setValues(this.x,this.y,this.width/t,this.height/t)},e._getGLFilter=function(t){if(!(null===this.target.filters||t<0)){for(var e=0,i=this.target.filters[e];i&&--t>=0;)i=i._multiPass?i._multiPass:this.target.filters[++e];return i}},e._updateSurface=function(){var t;if(!this._options||!this._options.useGL)return(t=this._cacheCanvas)||(t=this._cacheCanvas=s.default.createCanvas?s.default.createCanvas():document.createElement("canvas"),this.disabled=this._disabled),t.width=this._drawWidth,void(t.height=this._drawHeight);if(!this._stageGL)if("stage"===this._options.useGL){var e=this.target.stage;if(!e||!e.isWebGL){var i="Cannot use 'stage' for cache because the object's parent stage is ";throw i+=e?"non WebGL.":"not set, please addChild to the correct stage."}this._stageGL=e}else if("new"===this._options.useGL){if(this._cacheCanvas=document.createElement("canvas"),this._stageGL=new s.default.StageGL(this._cacheCanvas,{antialias:!0,transparent:!0,autoPurge:10}),!this._stageGL._webGLContext)throw"GL Cache asked for but unavailable";this._stageGL.isCacheControlled=!0}else{if(!(this._options.useGL instanceof s.default.StageGL))throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;this._stageGL=this._options.useGL}this.disabled=this._disabled;var n=this._stageGL;n.isCacheControlled&&((t=this._cacheCanvas).width=this._drawWidth,t.height=this._drawHeight,n.updateViewport(this._drawWidth,this._drawHeight))},e._drawToCache=function(t){var e=this._cacheCanvas,i=this.target,n=this._stageGL;if(n)n.cacheDraw(i,this);else{var s=e.getContext("2d");t||s.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),s.save(),s.globalCompositeOperation=t,s.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),s.translate(-this.x,-this.y),i.draw(s,!0),s.restore(),i.filters&&i.filters.length&&this._applyFilters(s)}e._invalid=!0},e._applyFilters=function(t){var e,i=this.target.filters,n=this._drawWidth,s=this._drawHeight,r=0,a=i[r];do{a.usesContext?(e&&(t.putImageData(e,0,0),e=null),a.applyFilter(t,0,0,n,s)):(e||(e=t.getImageData(0,0,n,s)),a._applyFilter(e)),a=null!==a._multiPass?a._multiPass:i[++r]}while(a);e&&t.putImageData(e,0,0)},s.default.BitmapCache=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i){this.Filter_constructor(),this._blurX=t,this._blurXTable=[],this._lastBlurX=null,this._blurY=e,this._blurYTable=[],this._lastBlurY=null,this._quality,this._lastQuality=null,this.FRAG_SHADER_TEMPLATE="uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vTextureCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}",(isNaN(i)||i<1)&&(i=1),this.setQuality(0|i)}var e=s.default.extend(t,s.default.Filter);e.getBlurX=function(){return this._blurX},e.getBlurY=function(){return this._blurY},e.setBlurX=function(t){(isNaN(t)||t<0)&&(t=0),this._blurX=t},e.setBlurY=function(t){(isNaN(t)||t<0)&&(t=0),this._blurY=t},e.getQuality=function(){return this._quality},e.setQuality=function(t){(isNaN(t)||t<0)&&(t=0),this._quality=0|t},e._getShader=function(){var t=this._lastBlurX!==this._blurX,e=this._lastBlurY!==this._blurY,i=this._lastQuality!==this._quality;return t||e||i?((t||i)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(e||i)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader},e._setShader=function(t){this._compiledShader=t};try{Object.defineProperties(e,{blurX:{get:e.getBlurX,set:e.setBlurX},blurY:{get:e.getBlurY,set:e.setBlurY},quality:{get:e.getQuality,set:e.setQuality},_builtShader:{get:e._getShader,set:e._setShader}})}catch(t){console.log(t)}e._getTable=function(t){if(t<=1)return[1];for(var e=[],i=Math.ceil(2*t),n=(i+=i%2?0:1)/2|0,s=-n;s<=n;s++){var r=s/n*4.2;e.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-Math.pow(r,2)/4))}var a=e.reduce((function(t,e){return t+e}));return e.map((function(t,e,i){return t/a}))},e._updateShader=function(){if(void 0!==this._blurX&&void 0!==this._blurY){var t=this.FRAG_SHADER_TEMPLATE;t=(t=t.replace(/\{\{blurX\}\}/g,this._blurXTable.length.toFixed(0))).replace(/\{\{blurY\}\}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=t}},e.shaderParamSetup=function(t,e,i){t.uniform1fv(t.getUniformLocation(i,"xWeight"),this._blurXTable),t.uniform1fv(t.getUniformLocation(i,"yWeight"),this._blurYTable),t.uniform2f(t.getUniformLocation(i,"textureOffset"),2/(e._viewportWidth*this._quality),2/(e._viewportHeight*this._quality))},t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(t){var e=0|this.blurX,i=0|this.blurY;if(e<=0&&i<=0)return t;var n=Math.pow(this.quality,.2);return(t||new s.default.Rectangle).pad(i*n+1,e*n+1,i*n+1,e*n+1)},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(e){var i=this._blurX>>1;if(isNaN(i)||i<0)return!1;var n=this._blurY>>1;if(isNaN(n)||n<0)return!1;if(0==i&&0==n)return!1;var s=this.quality;(isNaN(s)||s<1)&&(s=1),(s|=0)>3&&(s=3),s<1&&(s=1);var r=e.data,a=0,o=0,h=0,u=0,l=0,c=0,d=0,f=0,p=0,_=0,g=0,v=0,m=0,x=0,b=0,w=i+i+1|0,y=n+n+1|0,T=0|e.width,S=0|e.height,M=T-1|0,E=S-1|0,C=i+1|0,P=n+1|0,D={r:0,b:0,g:0,a:0},O=D;for(h=1;h<w;h++)O=O.n={r:0,b:0,g:0,a:0};O.n=D;var I={r:0,b:0,g:0,a:0},k=I;for(h=1;h<y;h++)k=k.n={r:0,b:0,g:0,a:0};k.n=I;for(var L=null,A=0|t.MUL_TABLE[i],F=0|t.SHG_TABLE[i],R=0|t.MUL_TABLE[n],B=0|t.SHG_TABLE[n];s-- >0;){d=c=0;var N=A,G=F;for(o=S;--o>-1;){for(f=C*(v=r[0|c]),p=C*(m=r[c+1|0]),_=C*(x=r[c+2|0]),g=C*(b=r[c+3|0]),O=D,h=C;--h>-1;)O.r=v,O.g=m,O.b=x,O.a=b,O=O.n;for(h=1;h<C;h++)u=c+((M<h?M:h)<<2)|0,f+=O.r=r[u],p+=O.g=r[u+1],_+=O.b=r[u+2],g+=O.a=r[u+3],O=O.n;for(L=D,a=0;a<T;a++)r[c++]=f*N>>>G,r[c++]=p*N>>>G,r[c++]=_*N>>>G,r[c++]=g*N>>>G,u=d+((u=a+i+1)<M?u:M)<<2,f-=L.r-(L.r=r[u]),p-=L.g-(L.g=r[u+1]),_-=L.b-(L.b=r[u+2]),g-=L.a-(L.a=r[u+3]),L=L.n;d+=T}for(N=R,G=B,a=0;a<T;a++){for(f=P*(v=r[c=a<<2|0])|0,p=P*(m=r[c+1|0])|0,_=P*(x=r[c+2|0])|0,g=P*(b=r[c+3|0])|0,k=I,h=0;h<P;h++)k.r=v,k.g=m,k.b=x,k.a=b,k=k.n;for(l=T,h=1;h<=n;h++)c=l+a<<2,f+=k.r=r[c],p+=k.g=r[c+1],_+=k.b=r[c+2],g+=k.a=r[c+3],k=k.n,h<E&&(l+=T);if(c=a,L=I,s>0)for(o=0;o<S;o++)r[(u=c<<2)+3]=b=g*N>>>G,b>0?(r[u]=f*N>>>G,r[u+1]=p*N>>>G,r[u+2]=_*N>>>G):r[u]=r[u+1]=r[u+2]=0,u=a+((u=o+P)<E?u:E)*T<<2,f-=L.r-(L.r=r[u]),p-=L.g-(L.g=r[u+1]),_-=L.b-(L.b=r[u+2]),g-=L.a-(L.a=r[u+3]),L=L.n,c+=T;else for(o=0;o<S;o++)r[(u=c<<2)+3]=b=g*N>>>G,b>0?(b=255/b,r[u]=(f*N>>>G)*b,r[u+1]=(p*N>>>G)*b,r[u+2]=(_*N>>>G)*b):r[u]=r[u+1]=r[u+2]=0,u=a+((u=o+P)<E?u:E)*T<<2,f-=L.r-(L.r=r[u]),p-=L.g-(L.g=r[u+1]),_-=L.b-(L.b=r[u+2]),g-=L.a-(L.a=r[u+3]),L=L.n,c+=T}}return!0},s.default.BlurFilter=s.default.promote(t,"Filter")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){if(this.Filter_constructor(),!s.default.Filter.isValidImageSource(t))throw"Must provide valid image source for alpha map, see Filter.isValidImageSource";this.alphaMap=t,this._map=null,this._mapCtx=null,this._mapTexture=null,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);float newAlpha = alphaMap.r * ceil(alphaMap.a);gl_FragColor = vec4(clamp(color.rgb/color.a, 0.0, 1.0) * newAlpha, newAlpha);}",t instanceof WebGLTexture&&(this._mapTexture=t)}var e=s.default.extend(t,s.default.Filter);e.shaderParamSetup=function(t,e,i){null===this._mapTexture&&(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),this.alphaMap!==this._mapTexture&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.alphaMap),t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)},e.clone=function(){return new t(this.alphaMap)},e.toString=function(){return"[AlphaMapFilter]"},e._applyFilter=function(t){if(!this._prepAlphaMap())return!1;for(var e,i,n,s,r=t.data,a=t.width,o=t.height,h=this._mapCtx.getImageData(0,0,this._map.width,this._map.height),u=h.data,l=h.width,c=l/a,d=h.height/o,f=0;f<o;f++){e=f*a,n=(f*d|0)*l;for(var p=0;p<a;p++)s=4*(n+(p*c|0)),r[i=4*(e+p)]=r[i],r[i+1]=r[i+1],r[i+2]=r[i+2],r[i+3]=u[s]}return!0},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap===this._map&&this._mapCtx)return!0;var t,e=this._map=this.alphaMap,i=e;return e instanceof HTMLCanvasElement?t=i.getContext("2d"):((i=s.default.createCanvas?s.default.createCanvas():document.createElement("canvas")).width=e.width,i.height=e.height,(t=i.getContext("2d")).drawImage(e,0,0)),this._mapCtx=t,!0},s.default.AlphaMapFilter=s.default.promote(t,"Filter")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){if(this.Filter_constructor(),!s.default.Filter.isValidImageSource(t))throw"Must provide valid image source for alpha mask, see Filter.isValidImageSource";this.mask=t,this.usesContext=!0,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb * alphaMap.a, color.a * alphaMap.a);}"}var e=s.default.extend(t,s.default.Filter);e.shaderParamSetup=function(t,e,i){this._mapTexture||(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),this.mask!==this._mapTexture&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.mask),t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)},e.applyFilter=function(t,e,i,n,s,r){return!this.mask||(void 0===r&&(r=t),r!==t&&r.drawImage(t.canvas,0,0,t.canvas.width,t.canvas.height,0,0,r.canvas.width,r.canvas.height),r.save(),r.globalCompositeOperation="destination-in",r.drawImage(this.mask,0,0,this.mask.width,this.mask.height,e,i,n,s),r.restore(),!0)},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},s.default.AlphaMaskFilter=s.default.promote(t,"Filter")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i,n,s,r,a,o){this.Filter_constructor(),this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=i?i:1,this.alphaMultiplier=null!=n?n:1,this.redOffset=s||0,this.greenOffset=r||0,this.blueOffset=a||0,this.alphaOffset=o||0,this.FRAG_SHADER_BODY="uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);color = clamp(vec4(0.0), vec4(1.0), vec4(vec3(color.rgb / color.a), color.a));color = clamp(vec4(0.0), vec4(1.0), color * uColorMultiplier + uColorOffset);gl_FragColor = vec4(color.rgb * color.a, color.a);}"}var e=s.default.extend(t,s.default.Filter);e.shaderParamSetup=function(t,e,i){t.uniform4f(t.getUniformLocation(i,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),t.uniform4f(t.getUniformLocation(i,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,i=e.length,n=0;n<i;n+=4)e[n]=e[n]*this.redMultiplier+this.redOffset,e[n+1]=e[n+1]*this.greenMultiplier+this.greenOffset,e[n+2]=e[n+2]*this.blueMultiplier+this.blueOffset,e[n+3]=e[n+3]*this.alphaMultiplier+this.alphaOffset;return!0},s.default.ColorFilter=s.default.promote(t,"Filter")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e,i,n){this.setColor(t,e,i,n)}var e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t.LENGTH=t.IDENTITY_MATRIX.length,t.createSepiaPreset=function(){return(new t).copy([.4977,.9828,.1322,0,14,.4977,.9828,.1322,0,-14,.4977,.9828,.1322,0,-47,0,0,0,1,0,0,0,0,0,1])},t.createInvertPreset=function(){return(new t).copy([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1])},t.createGreyscalePreset=function(){return(new t).copy([.3333,.3334,.3333,0,0,.3333,.3334,.3333,0,0,.3333,.3334,.3333,0,0,0,0,0,1,0,0,0,0,0,1])},e.setColor=function(t,e,i,n){return this.reset().adjustColor(t,e,i,n)},e.reset=function(){return this.copy(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,i,n){return this.adjustHue(n),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(i)},e.adjustBrightness=function(t){return 0==t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},e.adjustOffset=function(t,e,i){return isNaN(t)||isNaN(e)||isNaN(i)?this:(this[4]=this._cleanValue(this[4]+t,255),this[9]=this._cleanValue(this[9]+e,255),this[14]=this._cleanValue(this[14]+i,255),this)},e.adjustContrast=function(e){return 0==e||isNaN(e)?this:(i=(e=this._cleanValue(e,100))<0?127+e/100*127:127*(i=0==(i=e%1)?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-i)+t.DELTA_INDEX[1+(e<<0)]*i)+127,this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this);var i},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;var e=1+((t=this._cleanValue(t,100))>0?3*t/100:t/100);return this._multiplyMatrix([.3086*(1-e)+e,.6094*(1-e),.082*(1-e),0,0,.3086*(1-e),.6094*(1-e)+e,.082*(1-e),0,0,.3086*(1-e),.6094*(1-e),.082*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),i=Math.sin(t);return this._multiplyMatrix([.213+.787*e+-.213*i,.715+-.715*e+-.715*i,.072+-.072*e+.928*i,0,0,.213+-.213*e+.143*i,.715+e*(1-.715)+.14*i,.072+-.072*e+-.283*i,0,0,.213+-.213*e+-.787*i,.715+-.715*e+.715*i,.072+.928*e+.072*i,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return(e=this._fixMatrix(e)).length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},e.clone=function(){return(new t).copy(this)},e.toArray=function(){for(var e=[],i=0,n=t.LENGTH;i<n;i++)e[i]=this[i];return e},e.copy=function(e){for(var i=t.LENGTH,n=0;n<i;n++)this[n]=e[n];return this},e.toString=function(){var t="";return t+="    "+this[0].toFixed(4)+", "+this[1].toFixed(4)+", "+this[2].toFixed(4)+", "+this[3].toFixed(4)+", "+(0|this[4])+",\n",t+="    "+this[5].toFixed(4)+", "+this[6].toFixed(4)+", "+this[7].toFixed(4)+", "+this[8].toFixed(4)+", "+(0|this[9])+",\n",t+="    "+this[10].toFixed(4)+", "+this[11].toFixed(4)+", "+this[12].toFixed(4)+", "+this[13].toFixed(4)+", "+(0|this[14])+",\n",t+="    "+this[15].toFixed(4)+", "+this[16].toFixed(4)+", "+this[17].toFixed(4)+", "+this[18].toFixed(4)+", "+(0|this[19])+",\n","[ColorMatrix] {\n"+(t+="    "+(0|this[20])+", "+(0|this[21])+", "+(0|this[22])+", "+(0|this[23])+", "+(0|this[24])+"\n")+"}"},e._multiplyMatrix=function(t){var e,i,n,s=[];for(e=0;e<5;e++){for(i=0;i<5;i++)s[i]=this[i+5*e];for(i=0;i<5;i++){var r=0;for(n=0;n<5;n++)r+=t[i+5*n]*s[n];this[i+5*e]=r}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},s.default.ColorMatrix=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){this.Filter_constructor(),this.matrix=t,this.FRAG_SHADER_BODY="uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3],color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3],color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3],color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3]);gl_FragColor = newColor + uColorMatrixOffset;}"}var e=s.default.extend(t,s.default.Filter);e.shaderParamSetup=function(t,e,i){var n=this.matrix,s=new Float32Array([n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]]);t.uniformMatrix4fv(t.getUniformLocation(i,"uColorMatrix"),!1,s),t.uniform4f(t.getUniformLocation(i,"uColorMatrixOffset"),n[4]/255,n[9]/255,n[14]/255,n[19]/255)},e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,i,n,s,r=t.data,a=r.length,o=this.matrix,h=o[0],u=o[1],l=o[2],c=o[3],d=o[4],f=o[5],p=o[6],_=o[7],g=o[8],v=o[9],m=o[10],x=o[11],b=o[12],w=o[13],y=o[14],T=o[15],S=o[16],M=o[17],E=o[18],C=o[19],P=0;P<a;P+=4)e=r[P],i=r[P+1],n=r[P+2],s=r[P+3],r[P]=e*h+i*u+n*l+s*c+d,r[P+1]=e*f+i*p+n*_+s*g+v,r[P+2]=e*m+i*x+n*b+s*w+y,r[P+3]=e*T+i*S+n*M+s*E+C;return!0},s.default.ColorMatrixFilter=s.default.promote(t,"Filter")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){throw"Touch cannot be instantiated"}t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e,i,n){return!!e.__touch||(e.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},t._IOS_enable(e),!0)},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){e.canvas,e.__touch.f=function(i){t._IOS_handleEvent(e,i)}},t._IOS_disable=function(t){if(t.canvas)t.__touch.f},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var i=e.changedTouches,n=e.type,s=0,r=i.length;s<r;s++){var a=i[s],o=a.identifier;"touchstart"==n?this._handleStart(t,o,e,a.x,a.y):"touchmove"==n?this._handleMove(t,o,e,a.x,a.y):"touchend"!=n&&"touchcancel"!=n||this._handleEnd(t,o,e)}}},t._handleStart=function(t,e,i,n,s){var r=t.__touch;if(r.multitouch||!r.count){var a=r.pointers;a[e]||(a[e]=!0,r.count++,t._handlePointerDown(e,i,n,s))}},t._handleMove=function(t,e,i,n,s){t.__touch.pointers[e]&&t._handlePointerMove(e,i,n,s)},t._handleEnd=function(t,e,i){var n=t.__touch,s=n.pointers;s[e]&&(n.count--,setTimeout((function(){t._handlePointerUp(e,i,!0)}),50),delete s[e])},s.default.Touch=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,this._status=-1,this._lastTick=0,t&&(this.useTicks=!!t.useTicks,this.ignoreGlobalPause=!!t.ignoreGlobalPause,this.loop=!0===t.loop?-1:t.loop||0,this.reversed=!!t.reversed,this.bounce=!!t.bounce,this.timeScale=t.timeScale||1,t.onChange&&this.addEventListener("change",t.onChange),t.onComplete&&this.addEventListener("complete",t.onComplete))}var e=s.default.extend(t,s.default.EventDispatcher);e._setPaused=function(t){return s.default.Tween._register(this,t),this},e.setPaused=s.default.deprecate(e._setPaused,"AbstractTween.setPaused"),e._getPaused=function(){return this._paused},e.getPaused=s.default.deprecate(e._getPaused,"AbstactTween.getPaused"),e._getCurrentLabel=function(t){var e=this.getLabels();null==t&&(t=this.position);for(var i=0,n=e.length;i<n&&!(t<e[i].position);i++);return 0===i?null:e[i-1].label},e.getCurrentLabel=s.default.deprecate(e._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(e,{paused:{set:e._setPaused,get:e._getPaused},currentLabel:{get:e._getCurrentLabel}})}catch(t){}e.advance=function(t,e){this.setPosition(this.rawPosition+t*this.timeScale,e)},e.setPosition=function(t,e,i,n){var s=this.duration,r=this.loop,a=this.rawPosition,o=0,h=0,u=!1;if(t<0&&(t=0),0===s){if(u=!0,-1!==a)return u}else{if(h=t-(o=t/s|0)*s,(u=-1!==r&&t>=r*s+s)&&(t=(h=s)*(o=r)+s),t===a)return u;!this.reversed!=!(this.bounce&&o%2)&&(h=s-h)}this.position=h,this.rawPosition=t,this._updatePosition(i,u),u&&(this.paused=!0),n&&n(this),e||this._runActions(a,t,i,!i&&-1===a),this.dispatchEvent("change"),u&&this.dispatchEvent("complete")},e.calculatePosition=function(t){var e=this.duration,i=this.loop,n=0,s=0;return 0===e?0:(-1!==i&&t>=i*e+e?(s=e,n=i):s=t<0?0:t-(n=t/e|0)*e,!this.reversed!=!(this.bounce&&n%2)?e-s:s)},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var i in e)t.push({label:i,position:e[i]});t.sort((function(t,e){return t.position-e.position}))}return t},e.setLabels=function(t){this._labels=t,this._labelList=null},e.addLabel=function(t,e){this._labels||(this._labels={}),this._labels[t]=e;var i=this._labelList;if(i){for(var n=0,s=i.length;n<s&&!(e<i[n].position);n++);i.splice(n,0,{label:t,position:e})}},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels&&this._labels[t]),e},e.toString=function(){return"[AbstractTween]"},e.clone=function(){throw"AbstractTween can not be cloned."},e._init=function(t){t&&t.paused||(this.paused=!1),t&&null!=t.position&&this.setPosition(t.position)},e._updatePosition=function(t,e){},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e,!1,!0)},e._runActions=function(t,e,i,n){if(this._actionHead||this.tweens){var s,r,a,o,h=this.duration,u=this.reversed,l=this.bounce,c=this.loop;if(0===h?(s=r=a=o=0,u=l=!1):(a=t-(s=t/h|0)*h,o=e-(r=e/h|0)*h),-1!==c&&(r>c&&(o=h,r=c),s>c&&(a=h,s=c)),i)return this._runActionsRange(o,o,i,n);if(s!==r||a!==o||i||n){-1===s&&(s=a=0);var d=t<=e,f=s;do{var p=f===s?a:d?0:h,_=f===r?o:d?h:0;if(!u!=!(l&&f%2)&&(p=h-p,_=h-_),l&&f!==s&&p===_);else if(this._runActionsRange(p,_,i,n||f!==s&&!l))return!0;n=!1}while(d&&++f<=r||!d&&--f>=r)}}},e._runActionsRange=function(t,e,i,n){},s.default.AbstractTween=s.default.promote(t,"EventDispatcher")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(e,n){this.AbstractTween_constructor(n),this.pluginData=null,this.target=e,this.passive=!1,this._stepHead=new i(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,n&&(this.pluginData=n.pluginData,n.override&&t.removeTweens(e)),this.pluginData||(this.pluginData={}),this._init(n)}var e=s.default.extend(t,s.default.AbstractTween);function i(t,e,i,n,s,r){this.next=null,this.prev=t,this.t=e,this.d=i,this.props=n,this.ease=s,this.passive=r,this.index=t?t.index+1:0}function n(t,e,i,n,s){this.next=null,this.prev=t,this.t=e,this.d=0,this.scope=i,this.funct=n,this.params=s}t.IGNORE={},t._tweens=[],t._plugins=null,t._tweenHead=null,t._tweenTail=null,t._inTick=0,t.get=function(e,i){return new t(e,i)},t.tick=function(e,i){for(var n=t._tweenHead,s=t._inTick=Date.now();n;){var r=n._next,a=n._status;n._lastTick=s,1===a?n._status=0:-1===a?t._delist(n):i&&!n.ignoreGlobalPause||n._paused||n.advance(n.useTicks?1:e),n=r}t._inTick=0},t.handleEvent=function(t){"tick"===t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var i=t._tweenHead;i;){var n=i._next;i.target===e&&t._register(i,!0),i=n}e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweenHead;e;){var i=e._next;e._paused=!0,e.target&&(e.target.tweenjs_count=0),e._next=e._prev=null,e=i}t._tweenHead=t._tweenTail=null},t.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!t._tweenHead},t._installPlugin=function(e){for(var i=e.priority=e.priority||0,n=t._plugins=t._plugins||[],s=0,r=n.length;s<r&&!(i<n[s].priority);s++);n.splice(s,0,e)},t._register=function(e,i){var n=e.target;if(!i&&e._paused){n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1);var r=t._tweenTail;r?(t._tweenTail=r._next=e,e._prev=r):t._tweenHead=t._tweenTail=e,e._status=t._inTick?1:0,!t._inited&&s.default.Ticker&&(s.default.Ticker.addEventListener("tick",t),t._inited=!0)}else i&&!e._paused&&(n&&n.tweenjs_count--,t._inTick&&e._lastTick!==t._inTick||t._delist(e),e._status=-1);e._paused=i},t._delist=function(e){var i=e._next,n=e._prev;i?i._prev=n:t._tweenTail=n,n?n._next=i:t._tweenHead=i,e._next=e._prev=null},e.wait=function(t,e){return t>0&&this._addStep(+t,this._stepTail.props,null,e),this},e.to=function(t,e,i){(null==e||e<0)&&(e=0);var n=this._addStep(+e,null,i);return this._appendProps(t,n),this},e.label=function(t){return this.addLabel(t,this.duration),this},e.call=function(t,e,i){return this._addAction(i||this.target,t,e||[this])},e.set=function(t,e){return this._addAction(e||this.target,this._set,[t])},e.play=function(t){return this._addAction(t||this,this._set,[{paused:!1}])},e.pause=function(t){return this._addAction(t||this,this._set,[{paused:!0}])},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._addPlugin=function(t){var e=this._pluginIds||(this._pluginIds={}),i=t.ID;if(i&&!e[i]){e[i]=!0;for(var n=this._plugins||(this._plugins=[]),s=t.priority||0,r=0,a=n.length;r<a;r++)if(s<n[r].priority)return void n.splice(r,0,t);n.push(t)}},e._updatePosition=function(t,e){var i=this._stepHead.next,n=this.position,s=this.duration;if(this.target&&i){for(var r=i.next;r&&r.t<=n;)r=(i=i.next).next;var a=e?0===s?1:n/s:(n-i.t)/i.d;this._updateTargetProps(i,a,e)}this._stepPosition=i?n-i.t:0},e._updateTargetProps=function(e,i,n){if(!(this.passive=!!e.passive)){var s,r,a,o,h=e.prev.props,u=e.props;(o=e.ease)&&(i=o(i,0,1,1));var l=this._plugins;t:for(var c in h){if(s=(r=h[c])!==(a=u[c])&&"number"==typeof r?r+(a-r)*i:i>=1?a:r,l)for(var d=0,f=l.length;d<f;d++){var p=l[d].change(this,e,c,s,i,n);if(p===t.IGNORE)continue t;void 0!==p&&(s=p)}this.target[c]=s}}},e._runActionsRange=function(t,e,i,n){var s=t>e,r=s?this._actionTail:this._actionHead,a=e,o=t;s&&(a=t,o=e);for(var h=this.position;r;){var u=r.t;if((u===e||u>o&&u<a||n&&u===t)&&(r.funct.apply(r.scope,r.params),h!==this.position))return!0;r=s?r.prev:r.next}},e._appendProps=function(e,i,n){var s,r,a,o,h,u=this._stepHead.props,l=this.target,c=t._plugins,d=i.prev,f=d.props,p=i.props||(i.props=this._cloneProps(f)),_={};for(s in e)if(e.hasOwnProperty(s)&&(_[s]=p[s]=e[s],void 0===u[s])){if(o=void 0,c)for(r=c.length-1;r>=0;r--)if(void 0!==(a=c[r].init(this,s,o))&&(o=a),o===t.IGNORE){delete p[s],delete _[s];break}o!==t.IGNORE&&(void 0===o&&(o=l[s]),f[s]=void 0===o?null:o)}for(s in _){a=e[s];for(var g,v=d;(g=v)&&(v=g.prev);)if(v.props!==g.props){if(void 0!==v.props[s])break;v.props[s]=f[s]}}if(!1!==n&&(c=this._plugins))for(r=c.length-1;r>=0;r--)c[r].step(this,i,_);(h=this._injected)&&(this._injected=null,this._appendProps(h,i,!1))},e._injectProp=function(t,e){(this._injected||(this._injected={}))[t]=e},e._addStep=function(t,e,n,s){var r=new i(this._stepTail,this.duration,t,e,n,s||!1);return this.duration+=t,this._stepTail=this._stepTail.next=r},e._addAction=function(t,e,i){var s=new n(this._actionTail,this.duration,t,e,i);return this._actionTail?this._actionTail.next=s:this._actionHead=s,this._actionTail=s,this},e._set=function(t){for(var e in t)this[e]=t[e]},e._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},s.default.Tween=s.default.promote(t,"AbstractTween")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t){var e,i;t instanceof Array||null==t&&arguments.length>1?(e=t,i=arguments[1],t=arguments[2]):t&&(e=t.tweens,i=t.labels),this.AbstractTween_constructor(t),this.tweens=[],e&&this.addTween.apply(this,e),this.setLabels(i),this._init(t)}var e=s.default.extend(t,s.default.AbstractTween);e.addTween=function(t){t._parent&&t._parent.removeTween(t);var e=arguments.length;if(e>1){for(var i=0;i<e;i++)this.addTween(arguments[i]);return arguments[e-1]}if(0===e)return null;this.tweens.push(t),t._parent=this,t.paused=!0;var n=t.duration;return t.loop>0&&(n*=t.loop+1),n>this.duration&&(this.duration=n),this.rawPosition>=0&&t.setPosition(this.rawPosition),t},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;n<e;n++)i=i&&this.removeTween(arguments[n]);return i}if(0===e)return!0;var s=this.tweens;for(n=s.length;n--;)if(s[n]===t)return s.splice(n,1),t._parent=null,t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.updateDuration=function(){this.duration=0;for(var t=0,e=this.tweens.length;t<e;t++){var i=this.tweens[t],n=i.duration;i.loop>0&&(n*=i.loop+1),n>this.duration&&(this.duration=n)}},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._updatePosition=function(t,e){for(var i=this.position,n=0,s=this.tweens.length;n<s;n++)this.tweens[n].setPosition(i,!0,t)},e._runActionsRange=function(t,e,i,n){for(var s=this.position,r=0,a=this.tweens.length;r<a;r++)if(this.tweens[r]._runActions(t,e,i,n),s!==this.position)return!0},s.default.Timeline=s.default.promote(t,"AbstractTween")}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){throw"Ease cannot be instantiated."}t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return t<-1?t=-1:t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e)}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-s)*i/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var i=2*Math.PI;return function(n){var s=e/i*Math.asin(1/t);return(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-s)*i/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),s.default.Ease=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(){throw"MotionGuidePlugin cannot be instantiated."}var e=t;e.priority=0,e.ID="MotionGuide",e.install=function(){return s.default.Tween._installPlugin(t),s.default.Tween.IGNORE},e.init=function(t,i,n){"guide"==i&&t._addPlugin(e)},e.step=function(t,i,n){for(var s in n)if("guide"===s){var r=i.props.guide,a=e._solveGuideData(n.guide,r);r.valid=!a;var o=r.endData;if(t._injectProp("x",o.x),t._injectProp("y",o.y),a||!r.orient)break;var h=void 0===i.prev.props.rotation?t.target.rotation||0:i.prev.props.rotation;if(r.startOffsetRot=h-r.startData.rotation,"fixed"==r.orient)r.endAbsRot=o.rotation+r.startOffsetRot,r.deltaRotation=0;else{var u=void 0===n.rotation?t.target.rotation||0:n.rotation,l=u-r.endData.rotation-r.startOffsetRot,c=l%360;switch(r.endAbsRot=u,r.orient){case"auto":r.deltaRotation=l;break;case"cw":r.deltaRotation=(c+360)%360+360*Math.abs(l/360|0);break;case"ccw":r.deltaRotation=(c-360)%360+-360*Math.abs(l/360|0)}}t._injectProp("rotation",r.endAbsRot)}},e.change=function(t,i,n,r,a,o){var h=i.props.guide;if(h&&i.props!==i.prev.props&&h!==i.prev.props.guide)return"guide"===n&&!h.valid||"x"==n||"y"==n||"rotation"===n&&h.orient?s.default.Tween.IGNORE:void e._ratioToPositionData(a,h,t.target)},e.debug=function(t,i,n){t=t.guide||t;var s=e._findPathProblems(t);if(s&&console.error("MotionGuidePlugin Error found: \n"+s),!i)return s;var r=t.path,a=r.length;for(i.save(),i.lineCap="round",i.lineJoin="miter",i.beginPath(),i.moveTo(r[0],r[1]),l=2;l<a;l+=4)i.quadraticCurveTo(r[l],r[l+1],r[l+2],r[l+3]);i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="white",i.lineWidth=3,i.stroke(),i.closePath();var o=n.length;if(n&&o){var h={},u={};e._solveGuideData(t,h);for(var l=0;l<o;l++)h.orient="fixed",e._ratioToPositionData(n[l],h,u),i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(u.x+9*Math.cos(.0174533*u.rotation),u.y+9*Math.sin(.0174533*u.rotation)),i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="red",i.lineWidth=3,i.stroke(),i.closePath()}return i.restore(),s},e._solveGuideData=function(t,i){var n;if(n=e.debug(t))return n;var s=i.path=t.path;i.orient=t.orient;i.subLines=[],i.totalLength=0,i.startOffsetRot=0,i.deltaRotation=0,i.startData={ratio:0},i.endData={ratio:1},i.animSpan=1;var r,a,o,h,u,l,c,d,f,p=s.length,_={};for(r=s[0],a=s[1],c=2;c<p;c+=4){o=s[c],h=s[c+1],u=s[c+2],l=s[c+3];var g={weightings:[],estLength:0,portion:0},v=r,m=a;for(d=1;d<=10;d++){e._getParamsForCurve(r,a,o,h,u,l,d/10,!1,_);var x=_.x-v,b=_.y-m;f=Math.sqrt(x*x+b*b),g.weightings.push(f),g.estLength+=f,v=_.x,m=_.y}for(i.totalLength+=g.estLength,d=0;d<10;d++)f=g.estLength,g.weightings[d]=g.weightings[d]/f;i.subLines.push(g),r=u,a=l}f=i.totalLength;var w=i.subLines.length;for(c=0;c<w;c++)i.subLines[c].portion=i.subLines[c].estLength/f;var y=isNaN(t.start)?0:t.start,T=isNaN(t.end)?1:t.end;e._ratioToPositionData(y,i,i.startData),e._ratioToPositionData(T,i,i.endData),i.startData.ratio=y,i.endData.ratio=T,i.animSpan=i.endData.ratio-i.startData.ratio},e._ratioToPositionData=function(t,i,n){var s,r,a,o,h,u=i.subLines,l=0,c=t*i.animSpan+i.startData.ratio;for(r=u.length,s=0;s<r;s++){if(l+(o=u[s].portion)>=c){h=s;break}l+=o}void 0===h&&(h=r-1,l-=o);var d=u[h].weightings,f=o;for(r=d.length,s=0;s<r&&!(l+(o=d[s]*f)>=c);s++)l+=o;h=4*h+2,a=s/10+(c-l)/o*.1;var p=i.path;return e._getParamsForCurve(p[h-2],p[h-1],p[h],p[h+1],p[h+2],p[h+3],a,i.orient,n),i.orient&&(t>=.99999&&t<=1.00001&&void 0!==i.endAbsRot?n.rotation=i.endAbsRot:n.rotation+=i.startOffsetRot+t*i.deltaRotation),n},e._getParamsForCurve=function(t,e,i,n,s,r,a,o,h){var u=1-a;h.x=u*u*t+2*u*a*i+a*a*s,h.y=u*u*e+2*u*a*n+a*a*r,o&&(h.rotation=57.2957795*Math.atan2((n-e)*u+(r-n)*a,(i-t)*u+(s-i)*a))},e._findPathProblems=function(t){var e=t.path,i=e&&e.length||0;if(i<6||(i-2)%4){var n="\tCannot parse 'path' array due to invalid number of entries in path. ";return n+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",n+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n",n+="Only [ "+i+" ] values found. Expected: "+Math.max(4*Math.ceil((i-2)/4)+2,6)}for(var s=0;s<i;s++)if(isNaN(e[s]))return"All data in path array must be numeric";var r=t.start;if(isNaN(r)&&void 0!==r)return"'start' out of bounds. Expected 0 to 1, got: "+r;var a=t.end;if(isNaN(a)&&void 0!==a)return"'end' out of bounds. Expected 0 to 1, got: "+a;var o=t.orient;return o&&"fixed"!=o&&"auto"!=o&&"cw"!=o&&"ccw"!=o?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+o:void 0},s.default.MotionGuidePlugin=t}()},function(t,e,i){"use strict";var n,s=(n=i(0))&&n.__esModule?n:{default:n};!function(){function t(t,e){this._tweens=[],this.paused=t,this.timeScale=e,this.__onComplete=this._onComplete.bind(this)}var e=t,i=t.prototype;i._setPaused=function(t){var e=this._tweens;this._paused=t=!!t;for(var i=e.length-1;i>=0;i--)e[i].paused=t},i._getPaused=function(){return this._paused},i._setTimeScale=function(t){var e=this._tweens;this._timeScale=t=t||null;for(var i=e.length-1;i>=0;i--)e[i].timeScale=t},i._getTimeScale=function(){return this._timeScale};try{Object.defineProperties(i,{paused:{set:i._setPaused,get:i._getPaused},timeScale:{set:i._setTimeScale,get:i._getTimeScale}})}catch(t){}i.get=function(t,e){return this.add(s.default.Tween.get(t,e))},i.add=function(t){var e=arguments.length,i=this._tweens,n=0;for(e=arguments.length;n<e;n++)(t=arguments[n]).paused=this._paused,null!==this._timeScale&&(t.timeScale=this._timeScale),i.push(t),t.addEventListener&&t.addEventListener("complete",this.__onComplete);return arguments[e-1]},i.remove=function(t){for(var e=arguments.length,i=this._tweens,n=0;n<e;n++){t=arguments[n];for(var s=i.length-1;s>=0;s--)i[s]===t&&(i.splice(s,1),t.removeEventListener&&t.removeEventListener("complete",this.__onComplete))}},i.reset=function(e){for(var i=this._tweens,n=i.length-1;n>=0;n--){var s=i[n];s instanceof t&&(s.reset(),e)||(i.splice(n,1),s.paused=!0,s.removeEventListener&&s.removeEventListener("complete",this.__onComplete))}return this},i._onComplete=function(t){this.remove(t.target)},s.default.TweenGroup=e}()}])}));